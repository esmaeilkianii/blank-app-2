# سامانه جامع بهداری

این یک سامانه دسکتاپ برای مدیریت اطلاعات بهداری در شرکت‌ها و سازمان‌ها است که با پایتون و PyQt6 توسعه داده شده است.

## ویژگی‌ها

- **مدیریت پرسنل:** ثبت و نگهداری اطلاعات فردی و شغلی کارکنان.
- **معاینات پزشکی:** مدیریت معاینات بدو استخدام و ادواری با قابلیت هشدار برای موعدهای بعدی.
- **گزارش حوادث:** ثبت و پیگیری حوادث شغلی مطابق با استانداردهای HSE.
- **واکسیناسیون:** ردیابی واکسن‌ها و تست‌های پزشکی پرسنل.
- **چک‌لیست آمبولانس:** مدیریت چک‌لیست‌های روزانه و هفتگی آمبولانس.
- **داشبورد مدیریتی:** نمایش آمار و اطلاعات کلیدی به صورت گرافیکی.
- **خروجی گزارش:** قابلیت تهیه خروجی در فرمت‌های Excel و PDF.
- **امنیت:** استفاده از رمزنگاری برای رمزهای عبور و پایگاه داده.
- **کاملاً آفلاین:** بدون نیاز به اتصال اینترنت.
- **رابط کاربری فارسی:** پشتیبانی کامل از زبان فارسی و تقویم شمسی.

## نصب و راه‌اندازی

برای اجرای این پروژه، مراحل زیر را دنبال کنید:

### ۱. پیش‌نیازها

- پایتون نسخه ۳.۸ یا بالاتر
- `pip` برای مدیریت بسته‌ها

### ۲. نصب وابستگی‌ها

ابتدا پروژه را کلون کرده یا از حالت فشرده خارج کنید. سپس در ترمینال یا Command Prompt، به پوشه اصلی پروژه بروید و دستور زیر را اجرا کنید:

```bash
pip install -r requirements.txt
```

**نکته مهم:** در حال حاضر، به دلیل وجود مشکل در نصب کتابخانه `pysqlitecipher` در برخی محیط‌ها، پروژه به طور موقت از پایگاه داده SQLite استاندارد (بدون رمزگذاری) استفاده می‌کند. این موضوع در نسخه‌های آینده برطرف خواهد شد.

### ۳. اجرای برنامه

پس از نصب وابستگی‌ها، پایگاه داده به طور خودکار در اولین اجرا ساخته می‌شود. برای اجرای برنامه، از دستور زیر استفاده کنید:

```bash
python main.py
```

در اولین اجرا، یک کاربر `admin` با رمز عبور `admin` به صورت پیش‌فرض ایجاد می‌شود.

## بسته‌بندی و ایجاد فایل اجرایی (EXE)

برای ساخت یک فایل `exe` قابل حمل برای ویندوز، می‌توانید از `PyInstaller` استفاده کنید.

۱. ابتدا مطمئن شوید که `PyInstaller` نصب است:
   ```bash
   pip install pyinstaller
   ```

۲. سپس دستور زیر را در پوشه اصلی پروژه اجرا کنید:
   ```bash
   pyinstaller --onefile --windowed --name "BehdariApp" main.py
   ```
   - `--onefile`: تمام فایل‌ها را در یک `exe` جمع‌آوری می‌کند.
   - `--windowed`: کنسول سیاه پس‌زمینه را هنگام اجرا نمایش نمی‌دهد.
   - `--name`: نام فایل اجرایی خروجی را تعیین می‌کند.

پس از اتمام فرآیند، فایل `BehdariApp.exe` در پوشه‌ای به نام `dist` ایجاد خواهد شد.

## ساختار پروژه

```
/
├── app/                    # سورس اصلی برنامه
│   ├── controllers/        # منطق کسب‌وکار
│   ├── models/             # مدل‌های داده SQLAlchemy
│   ├── views/              # فایل‌های رابط کاربری PyQt6
│   ├── utils/              # ابزارهای کمکی (تاریخ شمسی، خروجی)
│   ├── __init__.py
│   └── auth.py             # ماژول احراز هویت
├── assets/                 # فایل‌های ثابت مانند آیکون و فونت
├── tests/                  # تست‌های واحد
├── main.py                 # نقطه ورود اصلی برنامه
├── requirements.txt        # لیست وابستگی‌ها
└── README.md               # همین فایل
```
